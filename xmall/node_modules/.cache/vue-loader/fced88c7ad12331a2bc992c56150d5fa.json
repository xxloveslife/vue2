{"remainingRequest":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ForVue\\VueXmall\\xmall\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ForVue\\VueXmall\\xmall\\src\\views\\Login\\index.vue","mtime":1589509108521},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNldFN0b3JlLCBnZXRTdG9yZSwgcmVtb3ZlU3RvcmUgfSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UiOwpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICIiLA0KICBkYXRhKCkgew0KICAgIGxldCB2YWxpZGF0ZVVzZXIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBpZiAodmFsdWUgPT09ICIiKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6LSm5Y+3IikpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIGxldCB2YWxpZGF0ZVBhc3MgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBpZiAodmFsdWUgPT09ICIiKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIHJldHVybiB7DQoNCiAgICAgIHJ1bGVGb3JtOiB7DQogICAgICAgIHVzZXI6ICcnLA0KICAgICAgICBwYXNzOiAnJywNCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICB1c2VyOiBbew0KICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VyLA0KICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICB9XSwNCiAgICAgICAgcGFzczogW3sNCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzcywNCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgfV0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7DQogICAgICAvLyBlbGVtZW506KGo5Y2V6Ieq5bim55qEdmFsaWRhdGXmoKHpqozlmags5Zue6LCD5Ye95pWwDQogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShhc3luYyB2YWx1ZSA9PiB7DQogICAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICAgIC8v5Lyg57uZ5ZCO56uvLOWvueixoXtydWxlRm9ybX0s6I635b6X6L+U5Zue5L+h5oGvLOW3sue7j3Rva2VuDQogICAgICAgICAgLy8g5ou/5YiwdG9rZW4s5YGa5pWw5o2u5oyB5LmF5YyWDQogICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgnL2FwaS9sb2dpbicsdGhpcy5ydWxlRm9ybSkNCiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZT09PTIwMCl7DQogICAgICAgICAgICBsZXQge3VzZXJuYW1lLCB0b2tlbiwgaWQgfSA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgLy8g5YGa5pWw5o2u5oyB5LmF5YyWDQogICAgICAgICAgICBzZXRTdG9yZSgndG9rZW4nLHRva2VuKQ0KICAgICAgICAgICAgc2V0U3RvcmUoJ2lkJyxpZCkNCg0KICAgICAgICAgIC8vIOayoeacieWBmuWQjuerr+WkhOeQhizmiYDku6Xkvb/nlKjkuIvlgYfnmoTmlbDmja4NCiAgICAgICAgICAvLyBsZXQgdG9rZW4gPSAneHhsb3Zlc2xpZmUnOw0KICAgICAgICAgIC8vIGxldCBpZCA9IDEyMzQ1Ow0KICAgICAgICAgIC8vIHNldFN0b3JlKCd0b2tlbicsdG9rZW4pOw0KICAgICAgICAgIC8vIHNldFN0b3JlKCdpZCcsaWQpOw0KICAgICAgICAgIC8vIOi3s+i9rA0KDQogICAgICAgIH1lbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygic3VibWl0IGVycm9yIik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KDQogIH0NCn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n<div class=\"login\">\r\n  <div class=\"box\">\r\n    <span>使用账号 登录官网</span>\r\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n      <el-form-item label=\"账号\" prop=\"user\">\r\n        <el-input type=\"text\" v-model=\"ruleForm.user\" autocomplete=\"off\" placeholder=\"请输入账号\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"pass\">\r\n        <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\" placeholder=\"请输入密码\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\r\n        <el-button>返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</div>\n</template>\r\n\r\n<script>\nimport { setStore, getStore, removeStore } from \"@/utils/storage\";\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    let validateUser = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入账号\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    let validatePass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n\r\n      ruleForm: {\r\n        user: '',\r\n        pass: '',\r\n      },\r\n      rules: {\r\n        user: [{\r\n          validator: validateUser,\r\n          trigger: 'blur'\r\n        }],\r\n        pass: [{\r\n          validator: validatePass,\r\n          trigger: 'blur'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      // element表单自带的validate校验器,回调函数\r\n      this.$refs[formName].validate(async value => {\r\n        if (value) {\r\n          //传给后端,对象{ruleForm},获得返回信息,已经token\r\n          // 拿到token,做数据持久化\r\n          let res = await this.$http.post('/api/login',this.ruleForm)\r\n          if (res.data.code===200){\r\n            let {username, token, id } = res.data;\r\n            // 做数据持久化\r\n            setStore('token',token)\r\n            setStore('id',id)\r\n\r\n          // 没有做后端处理,所以使用下假的数据\r\n          // let token = 'xxloveslife';\r\n          // let id = 12345;\r\n          // setStore('token',token);\r\n          // setStore('id',id);\r\n          // 跳转\r\n\r\n        }else {\r\n          console.log(\"submit error\");\r\n        }\r\n      }\r\n      })\r\n    }\r\n\r\n  }\r\n}\n</script>\r\n<style lang=\"scss\" scoped>\n.login {\n    position: relative;\n    overflow: visible;\n    background: #ededed;\n    .box {\n        width: 450px;\n        border: 1px solid #dadada;\n        border-radius: 10px;\n        position: absolute;\n        top: 200px;\n        left: 50%;\n        padding: 50px 50px 50px 10px;\n        margin-left: -225px;\n        box-shadow: 0 9px 30px -6px rgba(0, 0, 0, 0.2), 0 18px 20px -10px rgba(0, 0, 0, 0.04), 0 18px 20px -10px rgba(0, 0, 0, 0.04), 0 10px 20px -10px rgba(0, 0, 0, 0.04);\n        text-align: center;\n        form {\n            margin-top: 30px;\n        }\n        span {\n            color: #333;\n            font-weight: 400;\n        }\n    }\n}\n</style>\r\n"]}]}