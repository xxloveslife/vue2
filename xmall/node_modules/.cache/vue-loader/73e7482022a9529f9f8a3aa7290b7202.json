{"remainingRequest":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ForVue\\VueXmall\\xmall\\src\\views\\Goods\\index.vue?vue&type=style&index=0&id=1d71300f&lang=scss&scoped=true&","dependencies":[{"path":"D:\\ForVue\\VueXmall\\xmall\\src\\views\\Goods\\index.vue","mtime":1589096417320},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiLi4vLi4vYXNzZXRzL3N0eWxlL21peGluIjsKQGltcG9ydCAiLi4vLi4vYXNzZXRzL3N0eWxlL3RoZW1lIjsKCi5uYXYgewogICAgaGVpZ2h0OiA2MHB4OwogICAgbGluZS1oZWlnaHQ6IDYwcHg7CiAgICA+IGRpdiB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIGEgewogICAgICAgICAgICBwYWRkaW5nOiAwIDMwcHggMCAwOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIEBleHRlbmQgJWJsb2NrLWNlbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBjb2xvcjogIzk5OTsKICAgICAgICAgICAgJi5hY3RpdmUgewogICAgICAgICAgICAgICAgY29sb3I6ICM1NjgzZWE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJjpob3ZlciB7CiAgICAgICAgICAgICAgICBjb2xvcjogIzU2ODNlYTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpbnB1dCB7CiAgICAgICAgICAgIEBpbmNsdWRlIHdoKDgwcHgsIDMwcHgpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogICAgICAgIH0KICAgICAgICBpbnB1dCArIGlucHV0IHsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgICAgfQogICAgfQogICAgLnByaWNlLWludGVydmFsIHsKICAgICAgICBwYWRkaW5nOiAwIDE1cHg7CiAgICAgICAgQGV4dGVuZCAlYmxvY2stY2VudGVyOwogICAgICAgIGlucHV0W3R5cGU9Im51bWJlciJdIHsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgfQogICAgfQp9CgouZ29vZHMtYm94IHsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICA+IGRpdiB7CiAgICAgICAgZmxvYXQ6IGxlZnQ7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VmZWZlZjsKICAgIH0KfQoKLm5vLWluZm8gewogICAgcGFkZGluZzogMTAwcHggMDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGZvbnQtc2l6ZTogMzBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgLm5vLWRhdGEgewogICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjsKICAgIH0KfQoKLmltZy1pdGVtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9CgouZWwtcGFnaW5hdGlvbiB7CiAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDsKICAgIG1hcmdpbjogM3Z3IDEwdncgMnZ3Owp9Cgouc2VjdGlvbiB7CiAgICBwYWRkaW5nLXRvcDogOHZ3OwogICAgbWFyZ2luLWJvdHRvbTogLTV2dzsKICAgIHdpZHRoOiAxMjE4cHg7CiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7Cn0KCi5yZWNvbW1lbmQgewogICAgZGlzcGxheTogZmxleDsKICAgID4gZGl2IHsKICAgICAgICBmbGV4OiAxOwogICAgICAgIHdpZHRoOiAyNSU7CiAgICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Goods","sourcesContent":["<template>\n<div class=\"goods\">\r\n  <div class=\"nav\">\r\n    <div class=\"w\">\r\n      <a @click=\"handleSort(i)\" :class=\"{active:i===isIndex}\" href=\"javascript:;\" v-for=\"(navItem,i) in navList\" :key=\"i\">\r\n        {{navItem.title}}\r\n      </a>\r\n      <div class=\"price-interval\">\r\n        <input type=\"number\" class=\"input\" placeholder=\"价格\" v-model=\"min\">\r\n        <span style=\"margin: 0 5px\">-</span>\r\n        <input type=\"number\" placeholder=\"价格\" v-model=\"max\">\r\n        <el-button type=\"primary\" size=\"small\" style=\"margin-left: 10px;\" @click=\"reset\">确定</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <div class=\"goods-box w\">\r\n      <MallGoods v-for=\"goods in allGoods\" :key=\"goods.id\" :goods=\"goods\"></MallGoods>\r\n    </div>\r\n    <div class=\"w\">\r\n      <el-pagination style=\"float:right;\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\" :page-sizes=\"[8, 20, 40, 80]\" :page-size=\"pageSize\" layout=\"total,sizes, prev, pager, next\"\r\n        :total=\"total\"></el-pagination>\r\n    </div>\r\n  </div>\r\n</div>\n</template>\r\n<script>\nimport MallGoods from '@/components/MallGoods'\nexport default {\n  name: \"\",\n  data() {\n    return {\n      navList: [{\n          title: '综合排序'\n        },\n        {\n          title: '价格由低到高'\n        },\n        {\n          title: '价格由高到低'\n        },\n      ],\n      isIndex: 0,\n      min: '',\n      max: '',\n      allGoods: [],\n      currentPage: 1,\n      pageSize: 20,\n      sort: \"\",\n      total: 0,\n    }\n  },\r\n  watch: {\r\n    $route:'getAllGoods'\r\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.pageSize=val;\n      this.getAllGoods();\n    },\n    handleCurrentChange(val) {\n      this.currentPage=val;\r\n      this.getAllGoods();\n    },\r\n    priceSort(v){\r\n      this.sort=v;\r\n      this.getAllGoods();\r\n    },\r\n    reset(){\r\n      this.sort='';\r\n      this.currentPage=1;\r\n      this.getAllGoods();\r\n    },\n    handleSort(i) {\n      this.isIndex = i;\n      switch (i) {\n        case 0:\n          this.reset();\n          break;\n        case 1:\n          this.priceSort(1)\n          break;\n        case 2:\n          this.priceSort(-1)\n          break;\n        default:\n\n      }\n\n    },\n    async getAllGoods() {\r\n      const url = this.$route.query.cid ? `/api/goods/allGoods?page=${this.currentPage}&size=${\r\n          this.pageSize\r\n        }&sort=${this.sort}&priceGt=${this.min}&priceLte=${this.max}&cid=${this.$route.query.cid}` : `/api/goods/allGoods?page=${this.currentPage}&size=${\r\n          this.pageSize\r\n        }&sort=${this.sort}&priceGt=${this.min}&priceLte=${this.max}`\n      try {\n        const res = await this.$http.get(url)\n\n        this.allGoods = res.data.data\n        this.total = res.data.total\n        console.log('res.data', res.data);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  },\n  created() {\n    //do something after creating vue instance\n    this.getAllGoods();\n  },\n  components: {\n    MallGoods,\n  }\n}\n</script>\r\n<style lang=\"scss\" scoped>\n@import \"../../assets/style/mixin\";\n@import \"../../assets/style/theme\";\n\n.nav {\n    height: 60px;\n    line-height: 60px;\n    > div {\n        display: flex;\n        align-items: center;\n        a {\n            padding: 0 30px 0 0;\n            height: 100%;\n            @extend %block-center;\n            font-size: 12px;\n            color: #999;\n            &.active {\n                color: #5683ea;\n            }\n            &:hover {\n                color: #5683ea;\n            }\n        }\n        input {\n            @include wh(80px, 30px);\n            border: 1px solid #ccc;\n        }\n        input + input {\n            margin-left: 10px;\n        }\n    }\n    .price-interval {\n        padding: 0 15px;\n        @extend %block-center;\n        input[type=\"number\"] {\n            border: 1px solid #ccc;\n            text-align: center;\n            background: none;\n            border-radius: 5px;\n        }\n    }\n}\n\n.goods-box {\n    overflow: hidden;\n    > div {\n        float: left;\n        border: 1px solid #efefef;\n    }\n}\n\n.no-info {\n    padding: 100px 0;\n    text-align: center;\n    font-size: 30px;\n    display: flex;\n    flex-direction: column;\n    .no-data {\n        align-self: center;\n    }\n}\n\n.img-item {\n    display: flex;\n    flex-direction: column;\n}\n\n.el-pagination {\n    align-self: flex-end;\n    margin: 3vw 10vw 2vw;\n}\n\n.section {\n    padding-top: 8vw;\n    margin-bottom: -5vw;\n    width: 1218px;\n    align-self: center;\n}\n\n.recommend {\n    display: flex;\n    > div {\n        flex: 1;\n        width: 25%;\n    }\n}\n</style>\r\n"]}]}