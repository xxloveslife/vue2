{"remainingRequest":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ForVue\\VueXmall\\xmall\\src\\views\\Login\\index.vue?vue&type=style&index=0&id=aeba673c&lang=scss&scoped=true&","dependencies":[{"path":"D:\\ForVue\\VueXmall\\xmall\\src\\views\\Login\\index.vue","mtime":1589509108521},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW4gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgb3ZlcmZsb3c6IHZpc2libGU7CiAgICBiYWNrZ3JvdW5kOiAjZWRlZGVkOwogICAgLmJveCB7CiAgICAgICAgd2lkdGg6IDQ1MHB4OwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkYWRhZGE7CiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgdG9wOiAyMDBweDsKICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgcGFkZGluZzogNTBweCA1MHB4IDUwcHggMTBweDsKICAgICAgICBtYXJnaW4tbGVmdDogLTIyNXB4OwogICAgICAgIGJveC1zaGFkb3c6IDAgOXB4IDMwcHggLTZweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgMThweCAyMHB4IC0xMHB4IHJnYmEoMCwgMCwgMCwgMC4wNCksIDAgMThweCAyMHB4IC0xMHB4IHJnYmEoMCwgMCwgMCwgMC4wNCksIDAgMTBweCAyMHB4IC0xMHB4IHJnYmEoMCwgMCwgMCwgMC4wNCk7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIGZvcm0gewogICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgICAgIH0KICAgICAgICBzcGFuIHsKICAgICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n<div class=\"login\">\r\n  <div class=\"box\">\r\n    <span>使用账号 登录官网</span>\r\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n      <el-form-item label=\"账号\" prop=\"user\">\r\n        <el-input type=\"text\" v-model=\"ruleForm.user\" autocomplete=\"off\" placeholder=\"请输入账号\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"pass\">\r\n        <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\" placeholder=\"请输入密码\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\r\n        <el-button>返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</div>\n</template>\r\n\r\n<script>\nimport { setStore, getStore, removeStore } from \"@/utils/storage\";\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    let validateUser = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入账号\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    let validatePass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n\r\n      ruleForm: {\r\n        user: '',\r\n        pass: '',\r\n      },\r\n      rules: {\r\n        user: [{\r\n          validator: validateUser,\r\n          trigger: 'blur'\r\n        }],\r\n        pass: [{\r\n          validator: validatePass,\r\n          trigger: 'blur'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      // element表单自带的validate校验器,回调函数\r\n      this.$refs[formName].validate(async value => {\r\n        if (value) {\r\n          //传给后端,对象{ruleForm},获得返回信息,已经token\r\n          // 拿到token,做数据持久化\r\n          let res = await this.$http.post('/api/login',this.ruleForm)\r\n          if (res.data.code===200){\r\n            let {username, token, id } = res.data;\r\n            // 做数据持久化\r\n            setStore('token',token)\r\n            setStore('id',id)\r\n\r\n          // 没有做后端处理,所以使用下假的数据\r\n          // let token = 'xxloveslife';\r\n          // let id = 12345;\r\n          // setStore('token',token);\r\n          // setStore('id',id);\r\n          // 跳转\r\n\r\n        }else {\r\n          console.log(\"submit error\");\r\n        }\r\n      }\r\n      })\r\n    }\r\n\r\n  }\r\n}\n</script>\r\n<style lang=\"scss\" scoped>\n.login {\n    position: relative;\n    overflow: visible;\n    background: #ededed;\n    .box {\n        width: 450px;\n        border: 1px solid #dadada;\n        border-radius: 10px;\n        position: absolute;\n        top: 200px;\n        left: 50%;\n        padding: 50px 50px 50px 10px;\n        margin-left: -225px;\n        box-shadow: 0 9px 30px -6px rgba(0, 0, 0, 0.2), 0 18px 20px -10px rgba(0, 0, 0, 0.04), 0 18px 20px -10px rgba(0, 0, 0, 0.04), 0 10px 20px -10px rgba(0, 0, 0, 0.04);\n        text-align: center;\n        form {\n            margin-top: 30px;\n        }\n        span {\n            color: #333;\n            font-weight: 400;\n        }\n    }\n}\n</style>\r\n"]}]}