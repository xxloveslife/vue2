{"remainingRequest":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\babel-loader\\lib\\index.js!D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ForVue\\VueXmall\\xmall\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ForVue\\VueXmall\\xmall\\src\\views\\Login\\index.vue","mtime":1589509108521},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovRm9yVnVlL1Z1ZVhtYWxsL3htYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2V0U3RvcmUsIGdldFN0b3JlLCByZW1vdmVTdG9yZSB9IGZyb20gIkAvdXRpbHMvc3RvcmFnZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHZhbGlkYXRlVXNlciA9IGZ1bmN0aW9uIHZhbGlkYXRlVXNlcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6LSm5Y+3IikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHZhbGlkYXRlUGFzcyA9IGZ1bmN0aW9uIHZhbGlkYXRlUGFzcyhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHsKICAgICAgICB1c2VyOiAnJywKICAgICAgICBwYXNzOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVzZXI6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlVXNlciwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3M6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzcywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBlbGVtZW506KGo5Y2V6Ieq5bim55qEdmFsaWRhdGXmoKHpqozlmags5Zue6LCD5Ye95pWwCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbHVlKSB7CiAgICAgICAgICB2YXIgcmVzLCBfcmVzJGRhdGEsIHVzZXJuYW1lLCB0b2tlbiwgaWQ7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgnL2FwaS9sb2dpbicsIF90aGlzLnJ1bGVGb3JtKTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3JlcyRkYXRhID0gcmVzLmRhdGEsIHVzZXJuYW1lID0gX3JlcyRkYXRhLnVzZXJuYW1lLCB0b2tlbiA9IF9yZXMkZGF0YS50b2tlbiwgaWQgPSBfcmVzJGRhdGEuaWQ7IC8vIOWBmuaVsOaNruaMgeS5heWMlgoKICAgICAgICAgICAgICAgICAgICBzZXRTdG9yZSgndG9rZW4nLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgICAgc2V0U3RvcmUoJ2lkJywgaWQpOyAvLyDmsqHmnInlgZrlkI7nq6/lpITnkIYs5omA5Lul5L2/55So5LiL5YGH55qE5pWw5o2uCiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHRva2VuID0gJ3h4bG92ZXNsaWZlJzsKICAgICAgICAgICAgICAgICAgICAvLyBsZXQgaWQgPSAxMjM0NTsKICAgICAgICAgICAgICAgICAgICAvLyBzZXRTdG9yZSgndG9rZW4nLHRva2VuKTsKICAgICAgICAgICAgICAgICAgICAvLyBzZXRTdG9yZSgnaWQnLGlkKTsKICAgICAgICAgICAgICAgICAgICAvLyDot7PovawKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic3VibWl0IGVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,QAAA,EAAA,QAAA,EAAA,WAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,WAAA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAFA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,SAAA,EAAA,YADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA,CADA;AAKA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,SAAA,EAAA,YADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AALA;AANA,KAAA;AAiBA,GAlCA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,QADA,EACA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA;AAAA,2EAAA,iBAAA,KAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KADA;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAIA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,YAAA,EAAA,KAAA,CAAA,QAAA,CAJA;;AAAA;AAIA,kBAAA,GAJA;;AAKA,sBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AAAA,gCACA,GAAA,CAAA,IADA,EACA,QADA,aACA,QADA,EACA,KADA,aACA,KADA,EACA,EADA,aACA,EADA,EAEA;;AACA,oBAAA,QAAA,CAAA,OAAA,EAAA,KAAA,CAAA;AACA,oBAAA,QAAA,CAAA,IAAA,EAAA,EAAA,CAAA,CAJA,CAMA;AACA;AACA;AACA;AACA;AACA;AAEA,mBAbA,MAaA;AACA,oBAAA,OAAA,CAAA,GAAA,CAAA,cAAA;AACA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAuBA;AA1BA;AAnCA,CAAA","sourcesContent":["<template>\n<div class=\"login\">\r\n  <div class=\"box\">\r\n    <span>使用账号 登录官网</span>\r\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n      <el-form-item label=\"账号\" prop=\"user\">\r\n        <el-input type=\"text\" v-model=\"ruleForm.user\" autocomplete=\"off\" placeholder=\"请输入账号\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"pass\">\r\n        <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\" placeholder=\"请输入密码\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\r\n        <el-button>返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</div>\n</template>\r\n\r\n<script>\nimport { setStore, getStore, removeStore } from \"@/utils/storage\";\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    let validateUser = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入账号\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    let validatePass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n\r\n      ruleForm: {\r\n        user: '',\r\n        pass: '',\r\n      },\r\n      rules: {\r\n        user: [{\r\n          validator: validateUser,\r\n          trigger: 'blur'\r\n        }],\r\n        pass: [{\r\n          validator: validatePass,\r\n          trigger: 'blur'\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      // element表单自带的validate校验器,回调函数\r\n      this.$refs[formName].validate(async value => {\r\n        if (value) {\r\n          //传给后端,对象{ruleForm},获得返回信息,已经token\r\n          // 拿到token,做数据持久化\r\n          let res = await this.$http.post('/api/login',this.ruleForm)\r\n          if (res.data.code===200){\r\n            let {username, token, id } = res.data;\r\n            // 做数据持久化\r\n            setStore('token',token)\r\n            setStore('id',id)\r\n\r\n          // 没有做后端处理,所以使用下假的数据\r\n          // let token = 'xxloveslife';\r\n          // let id = 12345;\r\n          // setStore('token',token);\r\n          // setStore('id',id);\r\n          // 跳转\r\n\r\n        }else {\r\n          console.log(\"submit error\");\r\n        }\r\n      }\r\n      })\r\n    }\r\n\r\n  }\r\n}\n</script>\r\n<style lang=\"scss\" scoped>\n.login {\n    position: relative;\n    overflow: visible;\n    background: #ededed;\n    .box {\n        width: 450px;\n        border: 1px solid #dadada;\n        border-radius: 10px;\n        position: absolute;\n        top: 200px;\n        left: 50%;\n        padding: 50px 50px 50px 10px;\n        margin-left: -225px;\n        box-shadow: 0 9px 30px -6px rgba(0, 0, 0, 0.2), 0 18px 20px -10px rgba(0, 0, 0, 0.04), 0 18px 20px -10px rgba(0, 0, 0, 0.04), 0 10px 20px -10px rgba(0, 0, 0, 0.04);\n        text-align: center;\n        form {\n            margin-top: 30px;\n        }\n        span {\n            color: #333;\n            font-weight: 400;\n        }\n    }\n}\n</style>\r\n"],"sourceRoot":"src/views/Login"}]}