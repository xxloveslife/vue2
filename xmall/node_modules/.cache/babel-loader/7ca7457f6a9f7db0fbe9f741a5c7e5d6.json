{"remainingRequest":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\babel-loader\\lib\\index.js!D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ForVue\\VueXmall\\xmall\\src\\views\\Goods\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ForVue\\VueXmall\\xmall\\src\\views\\Goods\\index.vue","mtime":1589096417320},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ForVue\\VueXmall\\xmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovRm9yVnVlL1Z1ZVhtYWxsL3htYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1hbGxHb29kcyBmcm9tICdAL2NvbXBvbmVudHMvTWFsbEdvb2RzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYXZMaXN0OiBbewogICAgICAgIHRpdGxlOiAn57u85ZCI5o6S5bqPJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfku7fmoLznlLHkvY7liLDpq5gnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+S7t+agvOeUsemrmOWIsOS9jicKICAgICAgfV0sCiAgICAgIGlzSW5kZXg6IDAsCiAgICAgIG1pbjogJycsCiAgICAgIG1heDogJycsCiAgICAgIGFsbEdvb2RzOiBbXSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBhZ2VTaXplOiAyMCwKICAgICAgc29ydDogIiIsCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogJ2dldEFsbEdvb2RzJwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRBbGxHb29kcygpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZ2V0QWxsR29vZHMoKTsKICAgIH0sCiAgICBwcmljZVNvcnQ6IGZ1bmN0aW9uIHByaWNlU29ydCh2KSB7CiAgICAgIHRoaXMuc29ydCA9IHY7CiAgICAgIHRoaXMuZ2V0QWxsR29vZHMoKTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuc29ydCA9ICcnOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy5nZXRBbGxHb29kcygpOwogICAgfSwKICAgIGhhbmRsZVNvcnQ6IGZ1bmN0aW9uIGhhbmRsZVNvcnQoaSkgewogICAgICB0aGlzLmlzSW5kZXggPSBpOwoKICAgICAgc3dpdGNoIChpKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIHRoaXMucHJpY2VTb3J0KDEpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMucHJpY2VTb3J0KC0xKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICB9CiAgICB9LAogICAgZ2V0QWxsR29vZHM6IGZ1bmN0aW9uIGdldEFsbEdvb2RzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdXJsLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJsID0gX3RoaXMuJHJvdXRlLnF1ZXJ5LmNpZCA/ICIvYXBpL2dvb2RzL2FsbEdvb2RzP3BhZ2U9Ii5jb25jYXQoX3RoaXMuY3VycmVudFBhZ2UsICImc2l6ZT0iKS5jb25jYXQoX3RoaXMucGFnZVNpemUsICImc29ydD0iKS5jb25jYXQoX3RoaXMuc29ydCwgIiZwcmljZUd0PSIpLmNvbmNhdChfdGhpcy5taW4sICImcHJpY2VMdGU9IikuY29uY2F0KF90aGlzLm1heCwgIiZjaWQ9IikuY29uY2F0KF90aGlzLiRyb3V0ZS5xdWVyeS5jaWQpIDogIi9hcGkvZ29vZHMvYWxsR29vZHM/cGFnZT0iLmNvbmNhdChfdGhpcy5jdXJyZW50UGFnZSwgIiZzaXplPSIpLmNvbmNhdChfdGhpcy5wYWdlU2l6ZSwgIiZzb3J0PSIpLmNvbmNhdChfdGhpcy5zb3J0LCAiJnByaWNlR3Q9IikuY29uY2F0KF90aGlzLm1pbiwgIiZwcmljZUx0ZT0iKS5jb25jYXQoX3RoaXMubWF4KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KHVybCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5hbGxHb29kcyA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlcy5kYXRhJywgcmVzLmRhdGEpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy9kbyBzb21ldGhpbmcgYWZ0ZXIgY3JlYXRpbmcgdnVlIGluc3RhbmNlCiAgICB0aGlzLmdldEFsbEdvb2RzKCk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBNYWxsR29vZHM6IE1hbGxHb29kcwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,SAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CAAA;AACA,QAAA,KAAA,EAAA;AADA,OAAA,EAGA;AACA,QAAA,KAAA,EAAA;AADA,OAHA,EAMA;AACA,QAAA,KAAA,EAAA;AADA,OANA,CADA;AAWA,MAAA,OAAA,EAAA,CAXA;AAYA,MAAA,GAAA,EAAA,EAZA;AAaA,MAAA,GAAA,EAAA,EAbA;AAcA,MAAA,QAAA,EAAA,EAdA;AAeA,MAAA,WAAA,EAAA,CAfA;AAgBA,MAAA,QAAA,EAAA,EAhBA;AAiBA,MAAA,IAAA,EAAA,EAjBA;AAkBA,MAAA,KAAA,EAAA;AAlBA,KAAA;AAoBA,GAvBA;AAwBA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAxBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,GADA,EACA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,WAAA,WAAA;AACA,KAJA;AAKA,IAAA,mBALA,+BAKA,GALA,EAKA;AACA,WAAA,WAAA,GAAA,GAAA;AACA,WAAA,WAAA;AACA,KARA;AASA,IAAA,SATA,qBASA,CATA,EASA;AACA,WAAA,IAAA,GAAA,CAAA;AACA,WAAA,WAAA;AACA,KAZA;AAaA,IAAA,KAbA,mBAaA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,CAAA;AACA,WAAA,WAAA;AACA,KAjBA;AAkBA,IAAA,UAlBA,sBAkBA,CAlBA,EAkBA;AACA,WAAA,OAAA,GAAA,CAAA;;AACA,cAAA,CAAA;AACA,aAAA,CAAA;AACA,eAAA,KAAA;AACA;;AACA,aAAA,CAAA;AACA,eAAA,SAAA,CAAA,CAAA;AACA;;AACA,aAAA,CAAA;AACA,eAAA,SAAA,CAAA,CAAA,CAAA;AACA;;AACA;AAVA;AAcA,KAlCA;AAmCA,IAAA,WAnCA,yBAmCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,GADA,GACA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,GAAA,sCAAA,KAAA,CAAA,WAAA,mBACA,KAAA,CAAA,QADA,mBAEA,KAAA,CAAA,IAFA,sBAEA,KAAA,CAAA,GAFA,uBAEA,KAAA,CAAA,GAFA,kBAEA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,GAFA,uCAEA,KAAA,CAAA,WAFA,mBAGA,KAAA,CAAA,QAHA,mBAIA,KAAA,CAAA,IAJA,sBAIA,KAAA,CAAA,GAJA,uBAIA,KAAA,CAAA,GAJA,CADA;AAAA;AAAA;AAAA,uBAOA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA,CAPA;;AAAA;AAOA,gBAAA,GAPA;AASA,gBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,GAAA,CAAA,IAAA;AAXA;AAAA;;AAAA;AAAA;AAAA;AAaA,gBAAA,OAAA,CAAA,GAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAlDA,GA3BA;AA+EA,EAAA,OA/EA,qBA+EA;AACA;AACA,SAAA,WAAA;AACA,GAlFA;AAmFA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA;AAnFA,CAAA","sourcesContent":["<template>\n<div class=\"goods\">\r\n  <div class=\"nav\">\r\n    <div class=\"w\">\r\n      <a @click=\"handleSort(i)\" :class=\"{active:i===isIndex}\" href=\"javascript:;\" v-for=\"(navItem,i) in navList\" :key=\"i\">\r\n        {{navItem.title}}\r\n      </a>\r\n      <div class=\"price-interval\">\r\n        <input type=\"number\" class=\"input\" placeholder=\"价格\" v-model=\"min\">\r\n        <span style=\"margin: 0 5px\">-</span>\r\n        <input type=\"number\" placeholder=\"价格\" v-model=\"max\">\r\n        <el-button type=\"primary\" size=\"small\" style=\"margin-left: 10px;\" @click=\"reset\">确定</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <div class=\"goods-box w\">\r\n      <MallGoods v-for=\"goods in allGoods\" :key=\"goods.id\" :goods=\"goods\"></MallGoods>\r\n    </div>\r\n    <div class=\"w\">\r\n      <el-pagination style=\"float:right;\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\" :page-sizes=\"[8, 20, 40, 80]\" :page-size=\"pageSize\" layout=\"total,sizes, prev, pager, next\"\r\n        :total=\"total\"></el-pagination>\r\n    </div>\r\n  </div>\r\n</div>\n</template>\r\n<script>\nimport MallGoods from '@/components/MallGoods'\nexport default {\n  name: \"\",\n  data() {\n    return {\n      navList: [{\n          title: '综合排序'\n        },\n        {\n          title: '价格由低到高'\n        },\n        {\n          title: '价格由高到低'\n        },\n      ],\n      isIndex: 0,\n      min: '',\n      max: '',\n      allGoods: [],\n      currentPage: 1,\n      pageSize: 20,\n      sort: \"\",\n      total: 0,\n    }\n  },\r\n  watch: {\r\n    $route:'getAllGoods'\r\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.pageSize=val;\n      this.getAllGoods();\n    },\n    handleCurrentChange(val) {\n      this.currentPage=val;\r\n      this.getAllGoods();\n    },\r\n    priceSort(v){\r\n      this.sort=v;\r\n      this.getAllGoods();\r\n    },\r\n    reset(){\r\n      this.sort='';\r\n      this.currentPage=1;\r\n      this.getAllGoods();\r\n    },\n    handleSort(i) {\n      this.isIndex = i;\n      switch (i) {\n        case 0:\n          this.reset();\n          break;\n        case 1:\n          this.priceSort(1)\n          break;\n        case 2:\n          this.priceSort(-1)\n          break;\n        default:\n\n      }\n\n    },\n    async getAllGoods() {\r\n      const url = this.$route.query.cid ? `/api/goods/allGoods?page=${this.currentPage}&size=${\r\n          this.pageSize\r\n        }&sort=${this.sort}&priceGt=${this.min}&priceLte=${this.max}&cid=${this.$route.query.cid}` : `/api/goods/allGoods?page=${this.currentPage}&size=${\r\n          this.pageSize\r\n        }&sort=${this.sort}&priceGt=${this.min}&priceLte=${this.max}`\n      try {\n        const res = await this.$http.get(url)\n\n        this.allGoods = res.data.data\n        this.total = res.data.total\n        console.log('res.data', res.data);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  },\n  created() {\n    //do something after creating vue instance\n    this.getAllGoods();\n  },\n  components: {\n    MallGoods,\n  }\n}\n</script>\r\n<style lang=\"scss\" scoped>\n@import \"../../assets/style/mixin\";\n@import \"../../assets/style/theme\";\n\n.nav {\n    height: 60px;\n    line-height: 60px;\n    > div {\n        display: flex;\n        align-items: center;\n        a {\n            padding: 0 30px 0 0;\n            height: 100%;\n            @extend %block-center;\n            font-size: 12px;\n            color: #999;\n            &.active {\n                color: #5683ea;\n            }\n            &:hover {\n                color: #5683ea;\n            }\n        }\n        input {\n            @include wh(80px, 30px);\n            border: 1px solid #ccc;\n        }\n        input + input {\n            margin-left: 10px;\n        }\n    }\n    .price-interval {\n        padding: 0 15px;\n        @extend %block-center;\n        input[type=\"number\"] {\n            border: 1px solid #ccc;\n            text-align: center;\n            background: none;\n            border-radius: 5px;\n        }\n    }\n}\n\n.goods-box {\n    overflow: hidden;\n    > div {\n        float: left;\n        border: 1px solid #efefef;\n    }\n}\n\n.no-info {\n    padding: 100px 0;\n    text-align: center;\n    font-size: 30px;\n    display: flex;\n    flex-direction: column;\n    .no-data {\n        align-self: center;\n    }\n}\n\n.img-item {\n    display: flex;\n    flex-direction: column;\n}\n\n.el-pagination {\n    align-self: flex-end;\n    margin: 3vw 10vw 2vw;\n}\n\n.section {\n    padding-top: 8vw;\n    margin-bottom: -5vw;\n    width: 1218px;\n    align-self: center;\n}\n\n.recommend {\n    display: flex;\n    > div {\n        flex: 1;\n        width: 25%;\n    }\n}\n</style>\r\n"],"sourceRoot":"src/views/Goods"}]}